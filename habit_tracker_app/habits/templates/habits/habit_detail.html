{% extends 'base.html' %}

{% load habit_extras %}

{% block title %} –ü—Ä–∏–≤—ã—á–∫–∞ - "{{ habit }}" {% endblock title %}

{% block content %}
    {% if habit.datetype == 'weekly' and habitLogs|index:0 %}
        <h1>–í–∞—à —Ç–µ–∫—É—â–∏–π –Ω–µ–¥–µ–ª—å–Ω—ã–π —Å—Ç—Ä–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏: {{ habit.streak }}</h1>
        {% for weekly_block in habitLogs %}
            <div class="weekly_block">
                <div class="header">
                    <h1>–ù–µ–¥–µ–ª—è - {{ forloop.counter }}</h1>
                    {% if c|index:forloop.counter0 == habit.frequency %}
                        <p class="header complited_weekly_habit">–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –ø—Ä–∏–≤—ã—á–∫—É –∑–∞ {{ forloop.counter }} –Ω–µ–¥–µ–ª—é ^-^</p>
                    {% elif weekly_block|length == 7 and c|index:forloop.counter0 < habit.frequency %}
                        <p class="header incomplited_weekly_habit">–í—ã –Ω–µ —Å–º–æ–≥–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É –∑–∞ {{ forloop.counter }} –Ω–µ–¥–µ–ª—é ;<</p>
                    {% endif %}
                </div>
                {% for log in weekly_block %}
                    <div>
                        <h1>{{ log.comment }}</h1>
                        {% if log.status == 'complited' %} 
                            <span>–í—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ –≤ {{ log.date }}</span>
                        {% elif log.status == 'incomplited' %}
                            <span>–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚ùå –≤ {{ log.date }}</span>
                        {% else %}
                            <span>–ù–µ –±—ã–ª–æ –∑–∞–ø–∏—Å–∞–Ω–æ ü§¶‚Äç‚ôÇÔ∏è –≤ {{ log.date }}</span>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    {% elif habit.datetype == 'daily' and habitLogs %}
        <h1>–í–∞—à —Ç–µ–∫—É—â–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å—Ç—Ä–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—ã—á–∫–∏: {{ habit.streak }}</h1>
        {% for log in habitLogs %}
            <div class="every_day_block">
                <h1>{{ log.comment }}</h1>
                {% if log.status == 'complited' %} 
                    <span>–í—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ –≤ {{ log.date }}</span>
                {% elif log.status == 'incomplited' %}
                    <span>–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚ùå –≤ {{ log.date }}</span>
                {% else %}
                    <span>–ù–µ –±—ã–ª–æ –∑–∞–ø–∏—Å–∞–Ω–æ ü§¶‚Äç‚ôÇÔ∏è –≤ {{ log.date }}</span>
                {% endif %}
            </div>
        {% endfor %}
    {% else %}  
            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤.</p>
    {% endif %}
{% endblock content %}